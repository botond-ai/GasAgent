## ‚úÖ Elk√©sz√ºlt Fejleszt√©sek

- [x] Max bemeneti token limit be√©p√≠t√©s (10k tokens, HTTP 413)
- [x] Hibakezel√©s be√©p√≠t√©s (retry logic, exponential backoff, detailed status codes)
- [x] Multi-domain Qdrant collection (domain filtering, payload index)
- [x] Centraliz√°lt OpenAI kliensek (singleton pattern, error handling)
- [x] Token tracking √©s k√∂lts√©g kalkul√°ci√≥ (/api/usage-stats/)
- [x] Input valid√°ci√≥ (empty check, token limit)
- [x] Prompt truncation (100k token limit, auto-truncate)
- [x] Frontend cleanup (debug panel, markdown formatting, refresh button)
- [x] Swagger API dokument√°ci√≥ (docs/API.md)
- [x] README friss√≠t√©s (hibakezel√©s, production features, API endpoints)
- [x] Unit tesztek (61 teszt, 87-100% coverage tested modules)
- [x] Redis cache (embedding + query result, /api/cache-stats/)
- [x] Cache invalid√°l√°s (sync_domain_docs.py auto-invalidation)
- [x] Dokument√°ci√≥ friss√≠t√©s (README, INSTALLATION, API.md, REDIS_CACHE.md)
- [x] **Like/Dislike feedback backend**: PostgreSQL + async client + API endpoints
- [x] **Feedback system**: POST /api/feedback/citation/, GET /api/feedback/stats/
- [x] **Domain-scoped aggregation**: Materialized views, background threading
- [x] **Uvicorn ASGI migration**: Async view support, Postgres connection pooling
- [x] **Feedback unit tests**: test_feedback_system.py, test_redis_cache.py
- [x] **API.md update**: Version 2.1, feedback endpoints documented

## üöß J√∂v≈ëbeli Fejleszt√©sek

### High Priority
- [ ] **Frontend feedback UI**: üëçüëé gombok citation-√∂k√∂n (m√°r k√©sz a k√≥d, csak tesztelni kell √©les k√∂rnyezetben)
- [ ] **Citation display fix**: Forr√°sok megjelen√≠t√©se vissza√°ll√≠t√°s (elt≈±nt a UI-r√≥l)
- [ ] **Rerank**: Citation re-ranking feedback-weighted semantic relevancia alapj√°n
- [ ] **Chain of link**: Tal√°lati relevancia m√©r√©sek √©s tracking
- [ ] **Multi-query**: Query generation (5 vari√°ci√≥), frequency-based ranking
- [ ] **Integration tesztek**: Multi-domain RAG + feedback end-to-end

### Medium Priority
- [ ] **Query embedding context scoring**: Feedback aggregation embedding similarity-vel
- [ ] **Frontend citation re-ranking**: Live feedback-based result reordering
- [ ] **Szenzit√≠v adatok kisz≈±r√©se**: PII detection a promptb√≥l (email, phone, SSN)
- [ ] **Rate limiting**: Per-user rate limits (100 req/hour)
- [ ] **Monitoring dashboard**: Prometheus + Grafana metrics (cache hit rate, feedback stats)
- [ ] **BM25 sparse vectors**: Lexik√°lis keres√©s t√°mogat√°s (m√°rkanevek, k√≥dok)

### Low Priority
- [ ] **Authentication**: API key vagy JWT token auth
- [ ] **Audit logging**: Compliance log minden query-hez
- [ ] **Cost alerting**: Email alert napi/havi k√∂lts√©g k√ºsz√∂b t√∫ll√©p√©s√©n√©l
- [ ] **WebSocket support**: Real-time streaming responses
- [ ] **Multi-language support**: Automatikus nyelvdetekci√≥ √©s ford√≠t√°s
- [ ] **Feedback analytics dashboard**: Admin UI feedback trends-hez

√öjabbak, kateg√≥ri√°zand√≥k:
- profil adatok ment√©se
- LangGraph vagy LLM ismerje fel, milyen domainre √©rkezett k√©rd√©s √©s a h√°tt√©rben a megfelel≈ë RAG-et v√©gezze el a megfelel≈ë dokumentumon (fontos, hogy domainenk√©nt meg legyenek jel√∂lve a dokumentumok √©s ha megvan a domain, csak abban keressen tov√°bb)


- √∂sszetett √°gens tervez√©si elvek: reasoning layer, operational layer, tool exceutoron layer. Executre: plan node, triage, executor loop, observation, router tool (state-k, reducerek kezel√©se), action/update, next step, final answer. √Åt kell n√©zni a k√≥dban ezeket az elveket mennyire alkalmazzuk (LangGraph) ami az √∂sszetett √°gensfejleszt√©snek az alapjai. 
- Routing d√∂nt√©si mint√°kb√≥l melyik lenne alkalmas a projekt√ºnkre? input-based routing, state-based routing, tool-availability routing, confidence-based routing
- LangGraph ism√©tl≈ëd≈ë feladatokon milyen technik√°t √©rdemes alkalmazni? pl. paginated API, itemlist stb. Kontroll√°lt rekurz√≥ra gondolok
- els≈ë prompt alapj√°n d√∂ntse el automatikusan a rendszer, melyik domain k√©rd√©s√©t kell feldolgozni, ezut√°n RAG-eljen a megfelel≈ë domain≈± dokument√°ci√≥ra √©s menjen tov√°bb a folyamat
- milyen performancia optimaliz√°l√°si javaslataid vannak?
https://github.com/adrgul/ai_agent_tutorial/blob/main/docs/DELTA_PROMPT.md

- hf (4) multi-tool agent fejleszt√©s: 
    - hibakezel√©s
        retry node (id≈ëszakos api hib√°k kezel√©se)
        fallback model (olcs√≥-dr√°ga model)
        fail-safe response (audit√°lt, biztons√°gos hiba√ºzenet)
        planner fallback (√∫jratervez√©s sikertelen tool eset√©n)
        guardian node (szab√°lyellen≈ërz√©s AI Act compliance)
    - layerek
        reasoning layer (LLM gondolkod√°s): prompting, chain-of-thougt, triage, routing
        operationel layer: workflow - node-ok, edgek, stat
        tool execution layer: k√ºls≈ë API-k: adatlek√©r√©s, √≠r√°s, sz√°m√≠t√°s
        memory/RAG/context handling:
            stateful m≈±k√∂d√©s
            retrival-before-tools
    Info: https://github.com/adrgul/ai_agent_tutorial/blob/main/docs/AI_AGENT_4_RETEG_ARCHITEKTURA.md
- rossz v√°lasz jel√∂l≈ë (k√©s≈ëbb ezt prometheus/grafan√°ban gy≈±jteni)
- docker kont√©nerek szepar√°ci√≥ja (frontend, backend, prometheus, grafana), apik kim√©r√©se
Prometheus/Grafana metrik√°k:
    llm h√≠v√°sok ideje, sz√°ma 
    akt√≠v agentek (gauge)
    api gateway-ek
    er≈ëforr√°spazarl√≥ m≈±k√∂d√©s (pl. hib√°s, vagy pazarl√≥ loopok)
    latencys (p50,p95,p98)
        modellenk√©nt
        komponensenk√©nt kim√©rve (pl. qdrant)
    token usage (llm, vektor)
    inference counts (h√°nyszor h√≠vtuk az llm-et)
    RAG metrik√°k (vector db load, top-k relevance score, embedding generation count, RAG failures)
    workflow metrik√°k:
        d√∂nt√©si p√°ly√°k (route-ok, agent decision pipeline vizaliz√°ci√≥)
        jellemz≈ë d√∂nt√©si p√°ly√°k (leggyakrabban haszn√°lt route-ok)
        tool h√≠v√°si hib√°k
        √∫jrah√≠v√°sok
        node szint≈± fut√°si id≈ëk (meddig futottak t√≠pusonk√©nt retriever, parser, router)
    cache-el√©sre vonatkoz√≥ metrik√°k
    error rates
    fallback model path k√∂vet√©s
    costs: cost per model, per user, per agent workflow, daily, monthly burn rate, cost anomaly (napi hat√°r √°tl√©p√©se alert), v√©gtelen ciklus gyan√∫s esetek kisz≈±r√©se (infinite loop risk)
    dashboardok (Node, RAG, LLM, Cost) - by environments
    Alertmanager: Timeout hiba, napi √°tlag √°tl√©p√©s

Loki: logs
OpenTelemetry: traces (node, model call, execution trace)

Inf√≥k:
https://github.com/adrgul/ai_agent_tutorial/blob/main/docs/09_ARCHITECTURE_DIAGRAM.drawio
https://github.com/adrgul/ai_agent_tutorial/blob/main/docs/09_DOCKER_ARCHITECTURE.drawio
https://github.com/adrgul/ai_agent_tutorial/blob/main/docs/09_MONITORING_PROMPT.md
https://github.com/adrgul/ai_agent_tutorial/blob/main/docs/09_MONITORING_TEST_PROMPTS.md
https://github.com/adrgul/ai_agent_tutorial/blob/main/docs/09_PROMETHEUS_GRAFANA_UTMUTATO.md