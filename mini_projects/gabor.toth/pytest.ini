[pytest]
# Pytest configuration for RAG workflow tests

# Test discovery
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Asyncio mode
asyncio_mode = auto

# Output options
addopts = 
    -v
    --tb=short
    --strict-markers
    --disable-warnings

# Markers for categorizing tests
markers =
    asyncio: marks tests as async (deselect with '-m "not asyncio"')
    unit: unit tests for individual components
    integration: integration tests for workflow
    performance: performance and timing tests
    logging: logging-related tests
    error_handling: error handling and retry tests
    slow: marks tests as slow (deselect with '-m "not slow"')

# Test paths
testpaths = TESZTEK

# Timeout
timeout = 30

# Ignore patterns
norecursedirs = .git .venv __pycache__ *.egg-info

# Coverage options (if pytest-cov is installed)
[coverage:run]
source = backend/services/langgraph_workflow
omit = 
    */tests/*
    */test_*

[coverage:report]
exclude_lines =
    pragma: no cover
    def __repr__
    raise AssertionError
    raise NotImplementedError
    if __name__ == .__main__.:
